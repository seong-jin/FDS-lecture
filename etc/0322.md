# 170322 수업내용 정리



## 0. Review

### 0-1. mount 방법

◎ HTML

```html
<div id="app">
	....
</div>
```



◎ JavaScript

```javascript
// 1) 즉시 마운트
var vm = new Vue({
    el: '#app',
    data: {}
});

// 2) 마운트되는 시점을 별도 지정 
var vm = new Vue({
  el: '#app',
  mounted: function(){
    console.log('#app 문서 객체에 마운트가 되었습니다.');
  }
});

// 3) 2)번의 축약형 
vm.$mount('#app');
```



###  0-2. methods / computed / watch

```t
methods
	함수
	
computed
	속성
	참조된 데이터가 바뀔 때만 작동됨

watch
	속성
	계속 작동됨
	자원소모가 많다.
```
 

### 0-3. v-if / v-show

```
v-if
	false 일 때, HTML 코드가 생성되지 않는다.
	v-if / v-else-if / else 는 형제 요소에만 적용할 수 있다.
	
v-show
	HTML 코드에 인라인 속성으로 display: none; 이 추가된다. 
	자주 껐다 켰다 할 경우 v-show 사용
```







## 1. Street Fighter 만들기



### 1-1. 큰 그림

```html
<div id="StreetFighter" :class="stageClass">
	<!-- START NEWGAME -->
	<div v-if="!is_started" class="scene__before-start">
		...	
	</div>
  
	<!-- GAME STARTED -->
	<div v-else class="scene__started">
		...
	</div>
  
	<!-- FINISH GAME -->
	<div v-if="is_finished" class="scene__finished">
		...
	</div>
</div>

<script src="https://unpkg.com/vue"></script>
<script src="js/StreetFighter.js"></script>
```



### Start Scene 

◎ v-if="!is_started"

```html
<div v-if="!is_started" class="scene__before-start">
	...
</div>
```

```is_started``` 초기값이 ```false``` 이므로 ```.scene__before-start Scene``` 이 초기에 보여진다. 



◎ 스타트 버튼 생성

```html
<a 
	@click.prevent="gameStart" 
	href class="game__start-message">
	{{ settings.message }}
</a>
```

```.prevent``` : ```e.prevendDefault()``` 와 동일한 역할을 한다.

```gameStart``` 함수에서 ```is_started``` 의 값을 ```true```로 변경하여 다음 Scene 으로 넘어간다.



◎ BGM 

<details>

<summary>bgm 모듈</summary>

```javascript
(function(global){
  'use strict';
  // 멈춤 키
  var esc = 27;

  // 사운드 제어
  global.bgm = document.createElement('audio');
  bgm.setAttribute('src', './bgm/Street-Fighter-v5__Ryu-Theme.mp3');
  bgm.oncanplay = function() {
    // this.play();
  };
  global.document.addEventListener('keyup', function(e) {
    if ( e.keyCode === esc ) {
      bgm.pause();
    }
  });
})(window);

(function(global, Vue, bgm){
  'use strict';
  // 뷰 인스턴스 생성
  global.vm = new Vue({
    // 마운트
    el: '#StreetFighter',
    // 모델 연결
    data: model,
    // 생성된 시점에 음원 재생
    created: function() {
      bgm.play();
    }
  });
})(window, window.Vue, window.bgm);
  
```

</details>







#### Game Scene

◎ v-else 

```is_started``` 값이 ```true``` 이므로 ```.scene__started Scene``` 이 보여진다.









#### Finish

◎ v-if="is_finished"

`gameOver` 함수에서 `is_finished`  의 값을 `true`로 변경했을 때 생성된다. (초기값 `false`)





```

Start NewGame
	Vue Instance 의 모델 데이터
	클릭 / 포커스 : a or button 으로 처리
	↓
	배경음악 : audio 로 넣어 줄 것

신
	v-if / v-else-if / v-else 로 신 교체

	스타트
		.scene__before-start
	게임
		.scene__started
	피니쉬
		.scene__finished
		v-if="is_finished"

게임 신
	케릭터 렌덤으로 나옴
		player 1, 2

	button
		4개의 콜백
			attack : 렌덤값. 플레이어 1 의 어택이 더 크다
			special attack : 어택 보다 강함
			heal : 플레이어 2 를 힐링 해준다.
			give up : 처음 스테이지로

피니쉬
	딤드 처리
	Bison Win! : 뷰 데이터
	Try Again Game?
		yes : 게임 신으로 이동
		no : 스타트 신으로 이동


```







## Vue Instance





## Vue 

